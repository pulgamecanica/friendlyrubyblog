<!-- Version Controls -->
<div data-controller="block-version"
     data-block-version-undo-url-value="<%= undo_author_document_block_path(block.document, block) %>"
     data-block-version-redo-url-value="<%= redo_author_document_block_path(block.document, block) %>"
     data-block-version-versions-url-value="<%= versions_author_document_block_path(block.document, block) %>"
     data-block-version-panel-id-value="block_<%= block.id %>_versions_panel"
     class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">

  <div class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
    Versions
  </div>

  <!-- Version Badge -->
  <div class="text-xs text-gray-600 dark:text-gray-300 mb-3 text-center">
    <% version_count = block.versions.count %>
    <span class="inline-block px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded">
      <%= version_count %> version<%= 's' unless version_count == 1 %>
    </span>
  </div>

  <!-- Quick Actions -->
  <div class="mb-2">
    <button data-action="click->block-version#undo"
            data-block-version-target="undoBtn"
            title="Undo to previous version"
            class="w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            <%= 'disabled' if version_count < 1 %>>
      ‚Ü∂ Undo
    </button>
  </div>

  <!-- History Button -->
  <button data-action="click->block-version#openVersionPanel"
          class="w-full px-2 py-1.5 text-xs border border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors">
    üïê Version History
  </button>
</div>
