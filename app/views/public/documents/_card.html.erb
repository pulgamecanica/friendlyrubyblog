<%= link_to public_document_path(doc), class: "block rounded-xl border bg-white hover:shadow-md transition p-5" do %>
  <h2 class="text-lg font-semibold"><%= doc.title %></h2>
  <p class="mt-2 text-sm text-gray-600 line-clamp-3"><%= doc.description %></p>
  <div class="mt-4 flex items-center gap-3 text-xs text-gray-500">
    <% if doc.published_at %>
      <span>Published <%= format_date(doc.published_at) %></span>
    <% end %>
    <% if doc.series %>
      <span>Â·</span>
      <span>Series: <%= doc.series.title %></span>
    <% end %>
  </div>
  <% if doc.tags.any? %>
    <div class="mt-3 flex flex-wrap gap-2">
      <% doc.tags.limit(5).each do |t| %>
        <%= link_to t.title, public_tag_path(t), class: "px-2 py-0.5 text-xs rounded bg-gray-100 hover:bg-gray-200" %>
      <% end %>
    </div>
  <% end %>
<% end %>
